!function(){"use strict";angular.module("jkAngularRatingStars",["jkAngularRatingStars.templates"])}(),function(){"use strict";angular.module("jkAngularRatingStars").controller("RatingStarsController",["$attrs","$timeout",function($attrs,$timeout){var that=this;void 0===that.readOnly&&(that.readOnly=!1),void 0===that.resetAllowed&&(that.resetAllowed=!0),void 0===that.shadow&&(that.shadow=!0),void 0===that.showNumber&&(that.showNumber=!1),void 0===that.icon&&(that.icon="star"),void 0===that.offIcon&&(that.offIcon="star"),void 0===that.offColor&&(that.offColor=!0),that.initStarsArray=function(){that.starsArray=that.getStarsArray(),that.validateStars(that.rating)},that.getStarsArray=function(){for(var starsArray=[],index=0;index<that.maxRating;index++){var starItem={index:index,icon:that.offIcon};that.shadow&&(starItem.shadow="star-button"),that.offColor&&(starItem.class="star-off"),starsArray.push(starItem)}return starsArray},that.setRating=function(rating){that.readOnly||(that.rating=rating,that.validateStars(that.rating),$timeout(function(){that.onRating({rating:that.rating})}))},that.setMouseOverRating=function(rating){that.readOnly||that.validateStars(rating)},that.validateStars=function(rating){if(that.starsArray&&0!==that.starsArray.length)for(var index=0;index<that.starsArray.length;index++){var starItem=that.starsArray[index];index<=rating-1?(starItem.class="star-on",starItem.icon=that.icon):(that.offColor&&(starItem.class="star-off"),starItem.icon=that.offIcon)}}}])}(),function(){"use strict";angular.module("jkAngularRatingStars").directive("jkRatingStars",[function(){return{restrict:"E",replace:!0,templateUrl:"rating-stars-directive.html",scope:{},controller:"RatingStarsController",controllerAs:"ctrl",bindToController:{maxRating:"@?",rating:"=?",readOnly:"=?",onRating:"&",resetAllowed:"=?",shadow:"=?",showNumber:"=?",icon:"@?",offIcon:"@?",offColor:"=?"},link:function(scope,element,attrs,ctrl){(!attrs.maxRating||parseInt(attrs.maxRating)<=0)&&(attrs.maxRating="5"),scope.$watch("ctrl.maxRating",function(oldVal,newVal){ctrl.initStarsArray()}),scope.$watch("ctrl.rating",function(oldVal,newVal){ctrl.validateStars(ctrl.rating)})}}}])}(),function(){"use strict";angular.module("jkAngularRatingStars.templates",[]).run(["$templateCache",function($templateCache){$templateCache.put("/rating-stars-directive.html",'<div\n  class="jk-rating-stars-container"\n  layout="row" >\n\n  <a\n    class="button"\n    ng-click="ctrl.setRating(0)"\n    ng-if="!ctrl.readOnly && ctrl.resetAllowed" >\n    <i class="material-icons">remove_circle_outline</i>\n  </a>\n\n  <a\n    class="button"\n    ng-class="[item.class, item.shadow]"\n    ng-mouseover="ctrl.setMouseOverRating($index + 1)"\n    ng-mouseleave="ctrl.setMouseOverRating(ctrl.rating)"\n    ng-click="ctrl.setRating($index + 1)"\n    ng-repeat="item in ctrl.starsArray" >\n    <div ng-show="ctrl.showNumber">{{$index + 1}}</div>\n    <i class="material-icons">{{item.icon}}</i>\n  </a>\n\n</div>\n')}])}();